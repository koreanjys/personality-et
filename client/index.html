<!DOCTYPE html>
<html lang="ko" prefix="og: http://ogp.me/ns#">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
    
    <!-- Dynamic Language Detection and Meta Tags Update -->
    <script>
      (function() {
        // 브라우저 언어 감지
        const browserLanguage = navigator.language || navigator.languages?.[0] || 'en';
        const isKorean = browserLanguage.toLowerCase().startsWith('ko');
        
        // 언어에 따른 메타데이터 설정
        const metadata = {
          ko: {
            htmlLang: 'ko',
            title: '무료 성격 테스트 | 성격유형 성향 & 에겐테토 궁합 테스트',
            description: '무료 성격 테스트로 당신의 성격유형 성향을 알아보고 에겐-테토와의 궁합을 확인해보세요! 16가지 성격 유형별 상세 분석과 캐릭터 궁합도를 제공합니다.',
            keywords: '성격테스트, 성격유형테스트, 무료성격테스트, 성향테스트, 궁합테스트, 에겐테토, personality test, MBTI, free personality test',
            ogLocale: 'ko_KR',
            siteName: 'Personality Test',
            structuredDataName: '성격 테스트 | Personality Test',
            noscriptTitle: '무료 성격 테스트 | 성격유형 성향 & 에겐테토 궁합 테스트',
            noscriptDescription: '무료 성격 테스트로 당신의 성격유형 성향을 알아보고 에겐-테토와의 궁합을 확인해보세요!',
            noscriptFeatures: [
              '16가지 성격유형 성격 유형 분석',
              '에겐-테토 캐릭터와의 궁합도 측정',
              '상세한 성격 설명 및 특징',
              '한국어/영어 다국어 지원',
              '결과 공유 기능'
            ],
            noscriptJsRequired: '이 사이트는 JavaScript가 필요합니다. 브라우저에서 JavaScript를 활성화해주세요.'
          },
          en: {
            htmlLang: 'en',
            title: 'Free Personality Test | Personality Type & Egen-Teto Compatibility Test',
            description: 'Discover your personality type and check your compatibility with Egen-Teto characters! Get detailed analysis of 16 personality types and character compatibility ratings.',
            keywords: 'personality test, personality type test, free personality test, compatibility test, Egen Teto, 성격테스트, 성격유형테스트, 무료성격테스트',
            ogLocale: 'en_US',
            siteName: 'Personality Test',
            structuredDataName: 'Personality Test | 성격 테스트',
            noscriptTitle: 'Free Personality Test | Personality Type & Egen-Teto Compatibility Test',
            noscriptDescription: 'Discover your personality type and check your compatibility with Egen-Teto characters!',
            noscriptFeatures: [
              '16 personality type analysis',
              'Egen-Teto character compatibility measurement',
              'Detailed personality descriptions and traits',
              'Korean/English multilingual support',
              'Result sharing functionality'
            ],
            noscriptJsRequired: 'This site requires JavaScript. Please enable JavaScript in your browser.'
          }
        };
        
        const currentMeta = isKorean ? metadata.ko : metadata.en;
        
        // HTML lang 속성 설정
        document.documentElement.lang = currentMeta.htmlLang;
        
        // 메타 태그 동적 생성 함수
        function createMetaTag(name, content, property = false) {
          const meta = document.createElement('meta');
          if (property) {
            meta.setAttribute('property', name);
          } else {
            meta.setAttribute('name', name);
          }
          meta.setAttribute('content', content);
          return meta;
        }
        
        // 페이지 로드 후 메타 태그 업데이트
        document.addEventListener('DOMContentLoaded', function() {
          // Title 업데이트
          document.title = currentMeta.title;
          
          // 기존 메타 태그들 제거
          const existingMetas = document.querySelectorAll('meta[name="description"], meta[name="keywords"], meta[property="og:title"], meta[property="og:description"], meta[property="og:locale"], meta[name="twitter:title"], meta[name="twitter:description"]');
          existingMetas.forEach(meta => meta.remove());
          
          // 새 메타 태그들 추가
          const head = document.head;
          head.appendChild(createMetaTag('description', currentMeta.description));
          head.appendChild(createMetaTag('keywords', currentMeta.keywords));
          head.appendChild(createMetaTag('og:title', currentMeta.title, true));
          head.appendChild(createMetaTag('og:description', currentMeta.description, true));
          head.appendChild(createMetaTag('og:locale', currentMeta.ogLocale, true));
          head.appendChild(createMetaTag('twitter:title', currentMeta.title));
          head.appendChild(createMetaTag('twitter:description', currentMeta.description));
          
          // Structured Data 업데이트
          const structuredDataScripts = document.querySelectorAll('script[type="application/ld+json"]');
          if (structuredDataScripts.length > 0) {
            const webAppScript = structuredDataScripts[0];
            try {
              const data = JSON.parse(webAppScript.textContent);
              data.name = currentMeta.structuredDataName;
              data.description = currentMeta.description;
              webAppScript.textContent = JSON.stringify(data, null, 2);
            } catch (e) {
              console.warn('Failed to update structured data:', e);
            }
          }
          
          // Noscript 콘텐츠 업데이트
          const noscriptDiv = document.querySelector('noscript div');
          if (noscriptDiv) {
            const featuresHtml = currentMeta.noscriptFeatures.map(feature => `<li>${feature}</li>`).join('');
            noscriptDiv.innerHTML = `
              <h1>${currentMeta.noscriptTitle}</h1>
              <p>${currentMeta.noscriptDescription}</p>
              <p>${currentMeta.noscriptJsRequired}</p>
              <h2>${isKorean ? '제공하는 기능:' : 'Features:'}</h2>
              <ul style="text-align: left; max-width: 600px; margin: 0 auto;">
                ${featuresHtml}
              </ul>
            `;
          }
        });
        
        // 즉시 title 설정 (SEO를 위해)
        document.title = currentMeta.title;
      })();
    </script>
    
    <!-- SEO Meta Tags - 기본값 (JavaScript로 업데이트됨) -->
    <title>무료 성격 테스트 | 성격유형 성향 & 에겐테토 궁합 테스트</title>
    <meta name="description" content="무료 성격 테스트로 당신의 성격유형 성향을 알아보고 에겐-테토와의 궁합을 확인해보세요! 16가지 성격 유형별 상세 분석과 캐릭터 궁합도를 제공합니다." />
    <meta name="keywords" content="성격테스트, 성격유형테스트, 무료성격테스트, 성향테스트, 궁합테스트, 에겐테토, personality test, MBTI, free personality test" />
    <meta name="author" content="Personality Test" />
    <meta name="robots" content="index, follow" />
    <link rel="canonical" href="https://jybr.me" />
    
    <!-- Open Graph Meta Tags - 기본값 (JavaScript로 업데이트됨) -->
    <meta property="og:title" content="무료 성격 테스트 | 성격유형 성향 & 에겐테토 궁합 테스트" />
    <meta property="og:description" content="무료 성격 테스트로 당신의 성격유형 성향을 알아보고 에겐-테토와의 궁합을 확인해보세요!" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://jybr.me" />
    <meta property="og:site_name" content="Personality Test" />
    <meta property="og:locale" content="ko_KR" />
    <meta property="og:locale:alternate" content="en_US" />
    
    <!-- Twitter Card Meta Tags - 기본값 (JavaScript로 업데이트됨) -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="무료 성격 테스트 | 성격유형 성향 & 에겐테토 궁합 테스트" />
    <meta name="twitter:description" content="무료 성격 테스트로 당신의 성격유형 성향을 알아보고 에겐-테토와의 궁합을 확인해보세요!" />
    
    <!-- Language Alternates -->
    <link rel="alternate" hreflang="ko" href="https://jybr.me" />
    <link rel="alternate" hreflang="en" href="https://jybr.me" />
    <link rel="alternate" hreflang="x-default" href="https://jybr.me" />
    
    <!-- Google AdSense -->
    <meta name="google-adsense-account" content="ca-pub-3464871693186950">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3464871693186950"
     crossorigin="anonymous"></script>
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "성격 테스트 | Personality Test",
      "description": "무료 성격 테스트로 당신의 성격유형 성향을 알아보고 에겐-테토와의 궁합을 확인해보세요!",
      "url": "https://jybr.me",
      "applicationCategory": "LifestyleApplication",
      "operatingSystem": "Any",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "KRW"
      },
      "inLanguage": ["ko-KR", "en-US"],
      "author": {
        "@type": "Organization",
        "name": "Personality Test"
      },
      "keywords": "성격테스트, 성격유형테스트, 무료성격테스트, personality test, personality type"
    }
    </script>
    
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "이 성격 테스트는 무료인가요?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "네, 완전히 무료로 제공되는 성격 테스트입니다. 회원가입이나 결제 없이 바로 테스트를 받으실 수 있습니다."
          }
        },
        {
          "@type": "Question",
          "name": "테스트 결과는 얼마나 정확한가요?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "본 테스트는 성격유형 이론을 기반으로 제작되었으며, 심리학적 연구를 바탕으로 한 성격 분석을 제공합니다."
          }
        },
        {
          "@type": "Question",
          "name": "테스트는 얼마나 걸리나요?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "약 5-10분 정도 소요되며, 총 20개의 질문으로 구성되어 있습니다."
          }
        }
      ]
    }
    </script>    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Architects+Daughter&family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&family=Fira+Code:wght@300..700&family=Geist+Mono:wght@100..900&family=Geist:wght@100..900&family=IBM+Plex+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=IBM+Plex+Sans:ital,wght@0,100..700;1,100..700&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=Lora:ital,wght@0,400..700;1,400..700&family=Merriweather:ital,opsz,wght@0,18..144,300..900;1,18..144,300..900&family=Montserrat:ital,wght@0,100..900;1,100..900&family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Outfit:wght@100..900&family=Oxanium:wght@200..800&family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Plus+Jakarta+Sans:ital,wght@0,200..800;1,200..800&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Roboto+Mono:ital,wght@0,100..700;1,100..700&family=Roboto:ital,wght@0,100..900;1,100..900&family=Source+Code+Pro:ital,wght@0,200..900;1,200..900&family=Source+Serif+4:ital,opsz,wght@0,8..60,200..900;1,8..60,200..900&family=Space+Grotesk:wght@300..700&family=Space+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
  </head>
  <body>
    <!-- Skip to main content for accessibility -->
    <a href="#main-content" class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 bg-blue-600 text-white px-4 py-2 rounded">
      Skip to main content
    </a>
    
    <!-- Main Application -->
    <main id="main-content" role="main">
      <div id="root"></div>
    </main>
    
    <!-- Fallback content for search engines -->
    <noscript>
      <div style="text-align: center; padding: 2rem; font-family: Arial, sans-serif;">
        <h1>무료 성격 테스트 | 성격유형 성향 & 에겐테토 궁합 테스트</h1>
        <p>무료 성격 테스트로 당신의 성격유형 성향을 알아보고 에겐-테토와의 궁합을 확인해보세요!</p>
        <p>이 사이트는 JavaScript가 필요합니다. 브라우저에서 JavaScript를 활성화해주세요.</p>
        <h2>제공하는 기능:</h2>
        <ul style="text-align: left; max-width: 600px; margin: 0 auto;">
          <li>16가지 성격유형 성격 유형 분석</li>
          <li>에겐-테토 캐릭터와의 궁합도 측정</li>
          <li>상세한 성격 설명 및 특징</li>
          <li>한국어/영어 다국어 지원</li>
          <li>결과 공유 기능</li>
        </ul>
      </div>
    </noscript>
    
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>