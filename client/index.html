<!DOCTYPE html>
<html lang="ko" prefix="og: http://ogp.me/ns#">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
    
    <!-- Dynamic Language Detection and Meta Tags Update -->
    <script>
      (function() {
        // 브라우저 언어 감지 (사용자에게만 적용)
        const browserLanguage = navigator.language || navigator.languages?.[0] || 'en';
        const isKorean = browserLanguage.toLowerCase().startsWith('ko');
        
        // localStorage에서 사용자 설정 언어 확인
        const savedLanguage = localStorage.getItem('i18nextLng');
        const shouldUseKorean = savedLanguage ? savedLanguage === 'ko' : isKorean;
        
        // SEO를 위해 기본값은 한국어로 유지하고, 사용자 언어만 동적 변경
        if (!shouldUseKorean) {
          // 영어 사용자를 위한 메타데이터만 동적 변경
          const enMetadata = {
            title: 'Free Personality Test | Personality Type & Egen-Teto Compatibility Test',
            description: 'Discover your personality type and check your compatibility with Egen-Teto characters! Get detailed analysis of 16 personality types and character compatibility ratings.',
            keywords: 'personality test, personality type test, free personality test, compatibility test, Egen Teto, 성격테스트, 성격유형테스트, 무료성격테스트',
            ogLocale: 'en_US'
          };
          
          // HTML lang 속성 설정
          document.documentElement.lang = 'en';
          
          // 페이지 로드 후 영어 메타 태그로 업데이트
          document.addEventListener('DOMContentLoaded', function() {
            // Title 업데이트
            document.title = enMetadata.title;
            
            // 메타 태그들 업데이트 (영어 사용자용)
            const updateMeta = (selector, content) => {
              const meta = document.querySelector(selector);
              if (meta) meta.setAttribute('content', content);
            };
            
            updateMeta('meta[name="description"]', enMetadata.description);
            updateMeta('meta[name="keywords"]', enMetadata.keywords);
            updateMeta('meta[property="og:title"]', enMetadata.title);
            updateMeta('meta[property="og:description"]', enMetadata.description);
            updateMeta('meta[property="og:locale"]', enMetadata.ogLocale);
            updateMeta('meta[name="twitter:title"]', enMetadata.title);
            updateMeta('meta[name="twitter:description"]', enMetadata.description);
          });
        }
        
        // 즉시 title 설정 (영어 사용자용)
        if (!shouldUseKorean) {
          document.title = 'Free Personality Test | Personality Type & Egen-Teto Compatibility Test';
        }
      })();
    </script>
    
    <!-- SEO Meta Tags - 기본값 (JavaScript로 업데이트됨) -->
    <title>무료 성격 테스트 | 성격유형 성향 & 에겐테토 궁합 테스트</title>
    <meta name="description" content="무료 성격 테스트로 당신의 성격유형 성향을 알아보고 에겐-테토와의 궁합을 확인해보세요! 16가지 성격 유형별 상세 분석과 캐릭터 궁합도를 제공합니다." />
    <meta name="keywords" content="성격테스트, 성격유형테스트, 무료성격테스트, 성향테스트, 궁합테스트, 에겐테토, personality test, MBTI, free personality test" />
    <meta name="author" content="Personality Test" />
    <meta name="robots" content="index, follow" />
    <link rel="canonical" href="https://jybr.me" />
    
    <!-- Open Graph Meta Tags - 기본값 (JavaScript로 업데이트됨) -->
    <meta property="og:title" content="무료 성격 테스트 | 성격유형 성향 & 에겐테토 궁합 테스트" />
    <meta property="og:description" content="무료 성격 테스트로 당신의 성격유형 성향을 알아보고 에겐-테토와의 궁합을 확인해보세요!" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://jybr.me" />
    <meta property="og:site_name" content="Personality Test" />
    <meta property="og:locale" content="ko_KR" />
    <meta property="og:locale:alternate" content="en_US" />
    
    <!-- Twitter Card Meta Tags - 기본값 (JavaScript로 업데이트됨) -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="무료 성격 테스트 | 성격유형 성향 & 에겐테토 궁합 테스트" />
    <meta name="twitter:description" content="무료 성격 테스트로 당신의 성격유형 성향을 알아보고 에겐-테토와의 궁합을 확인해보세요!" />
    
    <!-- Language Alternates -->
    <link rel="alternate" hreflang="ko" href="https://jybr.me" />
    <link rel="alternate" hreflang="en" href="https://jybr.me" />
    <link rel="alternate" hreflang="x-default" href="https://jybr.me" />
    
    <!-- Google AdSense -->
    <meta name="google-adsense-account" content="ca-pub-3464871693186950">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3464871693186950"
     crossorigin="anonymous"></script>
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "성격 테스트 | Personality Test",
      "description": "무료 성격 테스트로 당신의 성격유형 성향을 알아보고 에겐-테토와의 궁합을 확인해보세요!",
      "url": "https://jybr.me",
      "applicationCategory": "LifestyleApplication",
      "operatingSystem": "Any",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "KRW"
      },
      "inLanguage": ["ko-KR", "en-US"],
      "author": {
        "@type": "Organization",
        "name": "Personality Test"
      },
      "keywords": "성격테스트, 성격유형테스트, 무료성격테스트, personality test, personality type"
    }
    </script>
    
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "이 성격 테스트는 무료인가요?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "네, 완전히 무료로 제공되는 성격 테스트입니다. 회원가입이나 결제 없이 바로 테스트를 받으실 수 있습니다."
          }
        },
        {
          "@type": "Question",
          "name": "테스트 결과는 얼마나 정확한가요?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "본 테스트는 성격유형 이론을 기반으로 제작되었으며, 심리학적 연구를 바탕으로 한 성격 분석을 제공합니다."
          }
        },
        {
          "@type": "Question",
          "name": "테스트는 얼마나 걸리나요?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "약 5-10분 정도 소요되며, 총 20개의 질문으로 구성되어 있습니다."
          }
        },
        {
          "@type": "Question", 
          "name": "에겐-테토와의 궁합은 어떻게 계산되나요?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "각 성격유형의 특성과 에겐-테토 캐릭터의 성향을 분석하여 궁합도를 계산합니다. 외향성, 내향성, 사고방식 등을 종합적으로 고려합니다."
          }
        },
        {
          "@type": "Question",
          "name": "결과를 저장하거나 공유할 수 있나요?",
          "acceptedAnswer": {
            "@type": "Answer", 
            "text": "네, 테스트 결과를 이미지로 저장하거나 링크로 공유할 수 있습니다. 모바일에서는 사진첩에 직접 저장이 가능합니다."
          }
        }
      ]
    }
    </script>    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Architects+Daughter&family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&family=Fira+Code:wght@300..700&family=Geist+Mono:wght@100..900&family=Geist:wght@100..900&family=IBM+Plex+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=IBM+Plex+Sans:ital,wght@0,100..700;1,100..700&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=Lora:ital,wght@0,400..700;1,400..700&family=Merriweather:ital,opsz,wght@0,18..144,300..900;1,18..144,300..900&family=Montserrat:ital,wght@0,100..900;1,100..900&family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Outfit:wght@100..900&family=Oxanium:wght@200..800&family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Plus+Jakarta+Sans:ital,wght@0,200..800;1,200..800&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Roboto+Mono:ital,wght@0,100..700;1,100..700&family=Roboto:ital,wght@0,100..900;1,100..900&family=Source+Code+Pro:ital,wght@0,200..900;1,200..900&family=Source+Serif+4:ital,opsz,wght@0,8..60,200..900;1,8..60,200..900&family=Space+Grotesk:wght@300..700&family=Space+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
  </head>
  <body>
    <!-- Skip to main content for accessibility -->
    <a href="#main-content" class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 bg-blue-600 text-white px-4 py-2 rounded">
      Skip to main content
    </a>
    
    <!-- Main Application -->
    <main id="main-content" role="main">
      <div id="root"></div>
    </main>
    
    <!-- Fallback content for search engines -->
    <noscript>
      <div style="text-align: center; padding: 2rem; font-family: Arial, sans-serif;">
        <h1>무료 성격 테스트 | 성격유형 성향 & 에겐테토 궁합 테스트</h1>
        <p>무료 성격 테스트로 당신의 성격유형 성향을 알아보고 에겐-테토와의 궁합을 확인해보세요!</p>
        <p>이 사이트는 JavaScript가 필요합니다. 브라우저에서 JavaScript를 활성화해주세요.</p>
        <h2>제공하는 기능:</h2>
        <ul style="text-align: left; max-width: 600px; margin: 0 auto;">
          <li>16가지 성격유형 성격 유형 분석</li>
          <li>에겐-테토 캐릭터와의 궁합도 측정</li>
          <li>상세한 성격 설명 및 특징</li>
          <li>한국어/영어 다국어 지원</li>
          <li>결과 공유 기능</li>
        </ul>
      </div>
    </noscript>
    
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>